<div class="ui-fluid">
  <div class="no-margin">
    <h1>Pesquisa Chamada</h1>
  </div>
  <div class="card no-margin">

    <form autocomplete="off" #f="ngForm" autocomplete="off" (ngSubmit)="pesquisar(f)">
      <div class="ui-g form-group">

        <div class="ui-g-12 ui-md-7">
                <p-dropdown placeholder="Selecione Professor" [disabled]="disableProf" required (onChange)="carregarTurmaDisciplina()" [options]="professores" [filter]="true" [disabled]="disableProf" [autoWidth]="false" [(ngModel)]="professorSelecionado" name="professorSelecionado"   ></p-dropdown>
            </div>

            <div class="ui-g-12 ui-md-7">
                <p-dropdown placeholder="Selecione Turma/Disciplina" required   #turmaCham [filter]="true"  [autoWidth]="false" [options]="turmaDisciplinas" [(ngModel)]="turmaDisciplinaSelecionada" name="turmaDisciplinaSelecionada" ></p-dropdown>
            </div>

            <div class="ui-g-12 ui-md-8">
                <div class="ui-g-12 ui-md-3">
                    <p-calendar [(ngModel)]="value" (onSelect)="changeDate()"   required  placeholder="Selecione a Data Inicial" showButtonBar="true"  dateFormat="dd/mm/yy" [locale]="pt" name="value"></p-calendar>
                 </div>
                 <div class="ui-g-12 ui-md-1">
                    <span>at√©</span>
                 </div>
                 <div class="ui-g-12 ui-md-3">
                    <p-calendar [(ngModel)]="value2" (onSelect)="changeDate()"  required  placeholder="Selecione a Data Final" showButtonBar="true"  dateFormat="dd/mm/yy" [locale]="pt" name="value1"></p-calendar>
                 </div>
            </div>

            <div class="ui-g-12 ui-md-12">
                <button pButton type="submit" label="Pesquisar" [disabled]="f.invalid"  icon="fa ui-icon-search"></button>
              </div>

              <div class="ui-g-12">

                <p-table [value]="chamadas" [responsive]="true"
                  [paginator]="true" [rows]="10">


                  <ng-template pTemplate="header">
                    <tr>
                      <th>Dia</th>
                      <th>Data</th>
                      <th>Periodo</th>
                      <th>Turma/Disciplina</th>
                      <th style="width:5em; text-align: center">Editar</th>
                     </tr>
                  </ng-template>

                  <ng-template pTemplate="body" let-chamada>
                    <tr>
                      <td style="text-align: center">{{chamada.turmaPeriodo.dia}}</td>
                      <td style="text-align: center">{{chamada.dataChamada | date: 'dd/MM/yyyy'}}</td>
                      <td style="text-align: center">{{chamada.turmaPeriodo.periodo}}</td>
                      <td style="text-align: center"> {{chamada.turmaDisciplina}}</td>
                      <td style="width:5em; text-align: center">
                        <a pButton icon="fa ui-icon-edit" pTooltip="Editar" tooltipPosition="top" [routerLink]="['/chamada', chamada.codigo]"></a>
                      </td>
                    </tr>
                  </ng-template>

                </p-table>
              </div>

              <div class="ui-g-12 ui-md-3">
                  <div class="shadow-box ui-shadow-4">
                    <button type="button" label="Adicionar" pButton icon="fa ui-icon-add" routerLink="/chamada/nova"></button>
                  </div>
                </div>
      </div>



    </form>
  </div>
</div>

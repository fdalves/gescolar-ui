<div class="ui-fluid">
    <div class="no-margin">
      <h1>Chamada</h1>
    </div>
    <div class="card no-margin">

    <form autocomplete="off" #f="ngForm" autocomplete="off" (ngSubmit)="salvar(f)">
        <div class="ui-g form-group">

            <div class="ui-g-12 ui-md-7" >
                <p-dropdown [disabled]="edicao || disableProf" placeholder="Selecione Professor" required (onChange)="carregarTurmaDisciplina()" [options]="professores" [filter]="true" [disabled]="disableProf" [autoWidth]="false" [(ngModel)]="professorSelecionado" name="professorSelecionado"   ></p-dropdown>
            </div>

            <div class="ui-g-12 ui-md-7">
                <p-dropdown [disabled]="edicao" placeholder="Selecione Turma/Disciplina" required  (onChange)="onChangeTurma()" [filter]="true" [autoWidth]="false" [options]="turmaDisciplinas" [(ngModel)]="turmaDisciplinaSelecionada" name="turmaDisciplinaSelecionada" ></p-dropdown>
            </div>

            <div class="ui-g-12 ui-md-7">
              <p-calendar [disabled]="edicao" [(ngModel)]="value" (onSelect)="carregarPeriodos()" required  placeholder="Selecione a Data" showButtonBar="true"  dateFormat="dd/mm/yy" [locale]="pt" name="value"></p-calendar>
            </div>

            <div class="ui-g-12 ui-md-7">
               <p-multiSelect [disabled]="edicao" [options]="periodos"  required (onChange)="carregarAlunos()" [(ngModel)]="periodosSelecionados" name="periodosSelecionados"   defaultLabel="Selecione Periodos" ></p-multiSelect>
            </div>


            <div class="ui-g-12">

              <p-table [value]="alunos" [responsive]="true">


                <ng-template pTemplate="header">
                  <tr>
                    <th style="width:9em; text-align: center">Foto</th>
                    <th>Nome</th>
                    <th style="width:9em; text-align: center">Presen√ßa</th>
                    </tr>
                </ng-template>


                <ng-template pTemplate="body" let-aluno>
                  <tr>
                    <td style="width:9em; text-align: center">
                      <img src="{{aluno.urlFoto}}" style="border-radius: 50%;" height="42" width="42" class="circular-image"  />
                    </td>
                    <td>{{aluno.nome}}</td>
                    <td style="width:9em; text-align: center"><p-checkbox name="groupname"  value="{{aluno.codigo}}" [(ngModel)]="alunosPresentes" inputId="{{aluno.codigo}}" ></p-checkbox></td>
                    </tr>
                </ng-template>
              </p-table>
            </div>

        </div>

        <div class="ui-g">
          <div class="ui-g-12 ui-md-3 ">
            <button pButton type="submit" label="Salvar" [disabled]="f.invalid"  icon="fa ui-icon-save"></button>
          </div>
          <div class="ui-g-12 ui-md-3">
            <button pButton type="button" label="Novo" (click)="novo()" icon="fa ui-icon-add-circle"></button>
          </div>
          <div class="ui-g-12 ui-md-3">
            <button pButton type="button" icon="fa ui-icon-arrow-back" label="Voltar Pesquisa" (click)="voltar()">
            </button>
          </div>
        </div>


     </form>

    </div>
</div>
